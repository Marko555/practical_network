import java.util.ArrayList;

public class Server {

  private String filePath;
  private ListInterface usersList;
  private UserLaptop user;

  public Server(String fPath){
    this.filePath = fPath;
  }

  public void startServer(){
	  usersList = new ReferenceBasedList();
	  
	  ArrayList<String> lst = new ArrayList<String>();
	  lst = FileRead.readFromFile(filePath);
	  int pos = 1;
	  for(int i=0; i< lst.size(); i=i+2){
		  
		  user = new UserLaptop(lst.get(i), lst.get(i+1));
		  if(usersList.isEmpty()){
			  usersList.add(pos, user);
			  
		  }
		  else if(user.compareTo(((UserLaptop)usersList.showLast()).getUsername()) == 1){
			  
			  usersList.add(pos, user);
		  }
		  
		  
		  /*else if(user.getUsername().compareTo(((UserLaptop)usersList.showLast()).getUsername()) == 1){
			  
		  }*/
		  else{
			  
			  
			  int k = usersList.size();
			  System.out.println(k);
			  while(user.compareTo(((UserLaptop)usersList.get(k)).getUsername()) != 1){
				  k--;
				  System.out.println(k);
				  if(k<1){
					k++;
					break;
				  }
			  }		  
			  usersList.add(pos, user);
			  
		  }
		  
		  pos++;
		    
	  }
	  
	  for (int j=1; j<=usersList.size(); j++)
			System.out.println("Location: " + j + "  Value: " + usersList.get(j));
	  
	  //System.out.println(lst);
  }


}
